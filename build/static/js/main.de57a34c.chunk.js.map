{"version":3,"sources":["LibWrappers.js","jsconsole/core/components/LineNav.js","jsconsole/core/components/Filter.js","jsconsole/core/components/types/ArrayType.js","jsconsole/core/components/types/StringType.js","jsconsole/core/components/types/ObjectType.js","jsconsole/core/components/types/FunctionType.js","jsconsole/core/components/types/ErrorType.js","jsconsole/core/components/types/NullType.js","jsconsole/core/components/types/UndefinedType.js","jsconsole/core/components/types/NumberType.js","jsconsole/core/components/types/BooleanType.js","jsconsole/core/components/types/EntryType.js","jsconsole/core/components/types/SetType.js","jsconsole/core/components/types/PromiseType.js","jsconsole/core/lib/which-type.js","PlotPanel.js","jsconsole/core/lib/utils.js","ImagePanel.js","jsconsole/core/containers/ImagePanel.js","HTMLPanel.js","jsconsole/core/components/Line.js","jsconsole/core/lib/run.js","jsconsole/core/components/Console.js","jsconsole/core/lib/keycodes.js","jsconsole/core/components/Input.js","jsconsole/core/containers/Input.js","jsconsole/core/actions/Input.js","jsconsole/core/lib/internal-commands.js","jsconsole/core/components/ConsoleApp.js","jsconsole/core/containers/ConsoleApp.js","jsconsole/core/actions/Settings.js","jsconsole/core/actions/ImagePanel.js","App.js","registerServiceWorker.js","jsconsole/core/reducers/history.js","jsconsole/core/reducers/settings.js","jsconsole/core/reducers/drags.js","jsconsole/core/reducers/index.js","jsconsole/core/store.js","index.js"],"names":["Chrome","window","chrome","LineNav","Component","props","preCopy","bind","toggleFilter","onPermalink","type","toString","call","value","state","text","filter","copyAsHTML","includes","e","history","pushState","document","title","target","search","preventDefault","original","this","setState","outerHTML","Error","Object","getOwnPropertyNames","reduce","acc","curr","stack","JSON","stringify","evalable","command","onHide","onFilter","onReRun","className","onClick","ArrayType","toggle","open","allowOpen","stopPropagation","shallow","length","types","slice","map","_","i","Type","which","key","count","newTypes","hole","push","undefined","toLowerCase","flatten","zip","Array","from","n","StringType","multiline","expanded","onToggle","bare","html","replace","expand","child","dangerouslySetInnerHTML","__html","classnames","bareString","quote","ref","string","enumerate","obj","visited","Set","Reflect","ownKeys","desc","getOwnPropertyDescriptor","has","add","enumerable","f","getPrototypeOf","ObjectType","nextProps","nextState","displayName","constructor","name","keys","forEach","prop","splice","sort","message","FunctionType","code","Function","sig","substring","indexOf","trim","hasOwnProperty","object","ErrorType","NullType","NumberType","BooleanType","EntryType","entry","Key","Value","SetType","size","entries","PromiseType","promiseValue","status","updatePromiseState","flag","Math","random","Promise","race","resolve","setTimeout","whichType","UndefinedType","Plot","plotId","id","Canvas","canvasId","_img_","_text_","loadImg","srcUrl","info","imgOnload","img","Image","relSrc","imgid","onload","console","log","imgWidth","width","imgHeight","height","innerWidth","src","loadAllImgs","imgs","addImageColumn","classifier","imageCol","oCol","toDict","label","htmls","wrapper","createElement","innerHTML","firstChild","split","join","hostUrlBase","addImage","loadXSV","link","p","endsWith","DataFrame","fromTSV","then","df","_df_","fromCSV","cols2DF","_columns","_ePath","data","columns","c","x","ePath","ImagePanel","_imgCode2tensor","imgCode","canvas","ctx","getContext","naturalWidth","naturalHeight","drawImage","imgData","getImageData","t","tf","tensor3d","Float32Array","drop","dragType","dataTransfer","getData","_log","_id","parse","href","isDragStart","onDragOver","onDrop","connect","drags","HTMLPanel","WebcamPanel","startTracking","a","trackingTask","setInterval","track","stopTracking","clearInterval","video","querySelector","mask","faceapi","detectSingleFace","fullFaceDescriptions","faceBox","box","midx","_x","_width","midy","_y","_height","direction","abs","runtime","sendMessage","action","clearRect","drawDetection","navigator","mediaDevices","getUserMedia","stream","srcObject","catch","err","offsetWidth","offsetHeight","style","left","offsetLeft","top","offsetTop","context","translate","scale","loadFaceAPI","MODEL_URL","loadSsdMobilenetv1Model","loadFaceLandmarkModel","loadFaceRecognitionModel","class","autoplay","Line","hidden","error","onFocus","line","df2HTML","isArray","container","createContainer","opacity","border","position","setAttribute","body","appendChild","iframe","win","contentWindow","doc","contentDocument","copy","$$","s","querySelectorAll","$","setContainer","run","res","test","preProcess","content","additionalCode","startsWith","eval","$_","script","blob","Blob","URL","createObjectURL","onerror","file","col","documentElement","wrapped","ecmaVersion","program","expression","callee","changes","containsAwait","containsReturn","visitors","ClassDeclaration","node","parent","start","end","FunctionDeclaration","AwaitExpression","ReturnStatement","VariableDeclaration","kind","onlyOneDeclaration","declarations","declaration","init","last","walk","substr","change","pop","guid","visid","canvasid","getNext","AssertError","interpolate","args","rest","all","dp","shift","isNaN","parseInt","toFixed","padStart","prototype","Console","_error","dir","_warn","debug","resetConsoleState","lines","commands","warn","clear","onUploadedCodeChange","next","linei","addons","level","newLine","assign","msg","unshift","_text","_canvasId","url","downloads","download","filename","_$","click","backupCode","files","reader","FileReader","lineIndices","_e","newLines","result","max","readAsText","tensor","shape","buffer","Uint8ClampedArray","imageData","ImageData","dataSync","cnt","y","pos","set","putImageData","storage","local","get","saved_scripts","changeAppState","fname","tabId","_this","lineToHide","onRun","reverse","onChange","multiple","transitionName","transitionEnterTimeout","transitionLeaveTimeout","3","8","9","12","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","48","49","50","51","52","53","54","55","56","57","58","59","60","61","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","144","145","160","161","163","164","165","166","167","169","170","171","173","174","175","176","177","178","179","180","181","182","183","186","187","188","189","190","191","192","193","194","219","220","221","222","223","224","225","226","230","231","233","234","255","Input","rows","historyCursor","onKeyPress","runCell","upHistory","downHistory","input","keycodes","keyCode","ctrlKey","onClear","shiftKey","addHistory","scrollTo","scrollHeight","_editor","renderer","setShowGutter","setShowPrintMargin","lineHeight","setFontSize","setOptions","minLines","maxLines","autoScrollEditorIntoView","cursorStyle","getValue","clientHeight","setCursor","getSession","gotoLine","navigateLineEnd","autoFocus","mode","theme","editorProps","$blockScrolling","Infinity","min-height","bindKey","mac","exec","onLoad","onAceLoad","version","process","REACT_APP_VERSION","API","REACT_APP_API","about","libs","tensorflow","vega3","vega4","vega5","jquery","underscore","lodash","moment","datefns","ml5","load","urls","remoteLoad","reject","fetch","app","setTheme","setLayout","store","getState","item","find","edit","_edit_","showCode","show_code","backup","downloadCode","upload","uploadCode","_run_","seqrun","names","vis","showTensor","vexport","_vname","tabs","query","active","currentWindow","vname","vvalue","response","vimport","_tabId","libraries","help","listen","internalConsole","json","sse","EventSource","onopen","location","origin","onmessage","event","onclose","welcome","yo","doStuffKeys","ConsoleApp","port","onMessage","addListener","dragStart","dragEnd","devtools","inspectedWindow","_reviews_","_tweets_","_video_","onloadstart","oncanplay","videoWidth","videoHeight","linkUrl","isException","found","selectionText","textid","loadText","triggerFocus","_linei","cmd","internalCommands","__console","method","apply","bindConsole","decodeURIComponent","getSelected","tab","lastIndexOf","nodeName","metaKey","altKey","layout","tabIndex","onKeyDown","inputRef","contextTypes","PropTypes","settings","styleTransferModel","App","handleTabChange","v","handleFnameChange","handleCodeChange","saveCode","resetAppState","forceUpdate","o","printState","newPlot","plotIds","concat","rmPlot","onbeforeunload","plotCount","selectedIndex","justified","onActive","floatingLabel","Boolean","hostname","match","defaultState","reducer","remote","combineReducers","save","setItem","middleware","applyMiddleware","nextAction","__REDUX_DEVTOOLS_EXTENSION__","finalCreateStore","compose","createStore","defaults","localStorage","getItem","sessionStorage","reducers","ReactDOM","render","React","Provider","getElementById"],"mappings":"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","file":"static/js/main.de57a34c.chunk.js","sourcesContent":["export var Chrome = window.chrome;","import React, { Component } from 'react';\nimport Filter from './Filter';\nimport CopyToClipboard from 'react-copy-to-clipboard';\n\nclass LineNav extends Component {\n  constructor(props) {\n    super(props);\n    this.preCopy = this.preCopy.bind(this);\n    this.toggleFilter = this.toggleFilter.bind(this);\n    this.onPermalink = this.onPermalink.bind(this);\n    // this.onHide = this.onHide.bind(this);\n\n    const type = {}.toString.call(props.value) || 'string';\n    this.state = {\n      text: null,\n      type,\n      filter: false,\n      copyAsHTML: type.includes('Element'),\n    };\n  }\n\n  onPermalink(e) {\n    // let this throw if no support\n    window.history.pushState(null, document.title, e.target.search);\n    e.preventDefault();\n  }\n\n  async preCopy() {\n    // work out how we should copy this thing\n    const original = this.props.value;\n    let { value, type } = this.props;\n\n    if (this.state.copyAsHTML) {\n      this.setState({ text: value.outerHTML });\n      return;\n    }\n\n    if (typeof value === 'function') {\n      this.setState({ text: value.toString() });\n      return;\n    }\n\n    if (typeof value === 'string') {\n      this.setState({ text: value });\n      return;\n    }\n\n    if (type === '[object Promise]') {\n      const text = await value;\n      this.setState({ text });\n      return;\n    }\n\n    if (value instanceof Error || type === '[object Error]') {\n      // get real props and add the stack no matter what (FF excludes it)\n      value = Object.getOwnPropertyNames(value).reduce((acc, curr) => {\n        acc[curr] = value[curr];\n        return acc;\n      }, {});\n\n      value.stack = original.stack;\n    }\n\n    this.setState({ text: JSON.stringify(value, '', 2) });\n  }\n\n  toggleFilter(e) {\n    e.preventDefault();\n    const filter = !this.state.filter;\n    this.setState({\n      filter,\n    });\n  }\n\n  // onHide(e) {\n  //   console._log(`hideing cell `);\n  // }\n\n  render() {\n    const { command, value, evalable, onFilter, onHide, onReRun } = this.props;\n    const { text, filter, copyAsHTML } = this.state;\n\n    const copyAs =\n      typeof value === 'function'\n        ? 'Copy function'\n        : copyAsHTML ? 'Copy as HTML' : 'Copy as JSON';\n\n    return (\n      <div className=\"LineNav\">\n        {evalable &&\n          <a\n            onClick={onReRun}\n            title=\"Run Code\"\n            className=\"icon play\"\n          >\n            run\n          </a>}\n\n\n        <a\n          onClick={onHide}\n          title=\"Hide Cell\"\n          className=\"icon hide\"\n        >\n          hide\n        </a>\n\n        {/* comment out for taking screenshots */}\n        {/* {typeof value === 'object' &&\n          <Filter\n            ref={e => (this.filter = e)}\n            onFilter={onFilter}\n            enabled={filter}\n          >\n            <button onClick={this.toggleFilter} className=\"icon search\">\n              search\n            </button>\n          </Filter>}\n        {command &&\n          <a\n            onClick={this.onPermalink}\n            title=\"Permalink\"\n            className=\"icon link\"\n            href={`?${escape(command)}`}\n          >\n            link\n          </a>}\n        <CopyToClipboard text={text}>\n          <button\n            title={copyAs}\n            className=\"icon copy\"\n            onMouseDown={() => {\n              if (text === null) {\n                this.preCopy();\n              }\n            }}\n          >\n            copy\n          </button>\n        </CopyToClipboard> */}\n      </div>\n    );\n  }\n}\n\nexport default LineNav;\n","import React, { Component } from 'react';\nimport debounce from 'lodash/debounce';\n\nclass Filter extends Component {\n  componentDidUpdate(prevProps) {\n    if (this.props.enabled !== prevProps.enabled) {\n      if (this.props.enabled) {\n        this.input.focus();\n      } else {\n        this.input.value = '';\n        this.props.onFilter(null);\n      }\n    }\n  }\n\n  render() {\n    const { children, enabled, onFilter = () => {} } = this.props;\n\n    const filter = debounce(onFilter, 100);\n\n    const className = enabled ? 'is-visible' : 'is-hidden';\n\n    return (\n      <span className={`Filter ${className}`}>\n        <span className=\"inner\">\n          <input\n            ref={e => (this.input = e)}\n            onChange={e => {\n              filter(e.target.value.trim().toLowerCase());\n            }}\n            onKeyDown={e => e.stopPropagation()}\n            type=\"text\"\n          />\n        </span>\n        {children}\n      </span>\n    );\n  }\n}\n\nexport default Filter;\n","import React, { Component } from 'react';\nimport zip from 'lodash/zip';\nimport flatten from 'lodash/flatten';\nimport which from '../../lib/which-type';\n\nclass ArrayType extends Component {\n  constructor(props) {\n    super(props);\n    this.toggle = this.toggle.bind(this);\n\n    this.state = {\n      open: props.open,\n    };\n  }\n\n  toggle(e) {\n    if (!this.props.allowOpen) {\n      return;\n    }\n    e.stopPropagation();\n    e.preventDefault();\n    this.setState({ open: !this.state.open });\n  }\n\n  render() {\n    const { value, shallow = true, filter = null } = this.props;\n    const { open } = this.state;\n\n    let length = value.length;\n\n    if (shallow && !open) {\n      return (\n        <div className=\"type ArrayType closed\" onClick={this.toggle}>\n          <em>Array</em>\n          <span className=\"arb-info\">({length})</span>\n        </div>\n      );\n    }\n\n    let types = value.slice(0, open ? value.length : 10).map((_, i) => {\n      const Type = which(_);\n      return (\n        <Type\n          allowOpen={open}\n          key={`arrayType-${i + 1}`}\n          shallow={true}\n          value={_}\n        >\n          {_}\n        </Type>\n      );\n    });\n\n    // expose holes in the collapsed mode\n    if (!open) {\n      let count = 0;\n      const newTypes = [];\n      for (let i = 0; i < types.length; i++) {\n        const hole = !(i in types);\n\n        if (count !== 0 && !hole) {\n          newTypes.push(\n            <span key={`hole-${i}`} className=\"arb-info\">\n              &lt;undefined  {count}&gt;\n            </span>\n          );\n          count = 0;\n        } else if (hole) {\n          count++;\n        }\n\n        if (!hole) {\n          newTypes.push(types[i]);\n        }\n      }\n\n      // if there are holes at the end\n      if (count !== 0) {\n        newTypes.push(\n          <span key={`hole-${types.length}`} className=\"arb-info\">\n            &lt;undefined  {count}&gt;\n          </span>\n        );\n      }\n\n      types = newTypes;\n    }\n\n    if (!open && value.length > 10) {\n      types.push(\n        <span key=\"arrayType-0\" className=\"more arb-info\">\n          \n        </span>\n      );\n    }\n\n    if (!open) {\n      // intersperce with commas\n      types = flatten(\n        zip(\n          types,\n          Array.from({ length: types.length - 1 }, (n, i) => (\n            <span key={`sep-${i}`} className=\"sep\">\n              ,\n            </span>\n          ))\n        )\n      );\n\n      // do mini output\n      return (\n        <div className=\"type ArrayType closed\" onClick={this.toggle}>\n          <em>Array</em>\n          <span className=\"arb-info\">({length})</span>[ {types} ]\n        </div>\n      );\n    }\n\n    // this is the full output view\n    return (\n      <div className=\"type ArrayType\">\n        <div onClick={this.toggle} className=\"header\">\n          <em>Array</em>\n          <span className=\"arb-info\">({length})</span>[\n        </div>\n        <div className=\"group\">\n          {types.map((type, i) => {\n            if (\n              filter === null ||\n              filter === undefined ||\n              filter === '' ||\n              (value[i] + '').toLowerCase().includes(filter)\n            ) {\n              return (\n                <div className=\"key-value\" key={`subtype-${i}`}>\n                  <span className=\"index\">{i}:</span>\n                  {type}\n                </div>\n              );\n            }\n\n            return null;\n          })}\n        </div>]\n      </div>\n    );\n  }\n}\n\nexport default ArrayType;\n","import React, { Component } from 'react';\nimport classnames from 'classnames';\n\nclass StringType extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: props.value,\n      multiline: props.value.includes('\\n'),\n      expanded: !props.shallow,\n    };\n    this.onToggle = this.onToggle.bind(this);\n  }\n\n  onToggle(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.setState({\n      expanded: !this.state.expanded,\n    });\n  }\n\n  render() {\n    const { bare = false, html = false } = this.props;\n    const { multiline, expanded } = this.state;\n    let { value } = this.state;\n\n    if (multiline && !expanded) {\n      value = value.replace(/\\n/g, '');\n    }\n\n    const expand = (\n      <button onClick={this.onToggle} className=\"icon expand\">\n        +\n      </button>\n    );\n\n    const child = html ? (\n      <span dangerouslySetInnerHTML={{ __html: value }} />\n    ) : (\n      value\n    );\n\n    const className = classnames([\n      'type',\n      'string',\n      {\n        toggle: expanded,\n        bareString: bare,\n        quote: !bare,\n      },\n    ]);\n\n    return (\n      <div ref={e => (this.string = e)} className={className}>\n        {multiline && expand}\n        {child}\n      </div>\n    );\n  }\n}\n\nexport default StringType;\n","import React, { Component } from 'react';\nimport which from '../../lib/which-type';\nimport StringType from './StringType';\nimport zip from 'lodash/zip';\nimport flatten from 'lodash/flatten';\n\nconst LIMIT_CLOSED = 5;\n\nfunction* enumerate(obj) {\n  let visited = new Set();\n  while (obj) {\n    for (let key of Reflect.ownKeys(obj)) {\n      if (typeof key === 'string') {\n        let desc = Reflect.getOwnPropertyDescriptor(obj, key);\n        if (desc && !visited.has(key)) {\n          visited.add(key);\n          if (desc.enumerable) {\n            yield key;\n          }\n        }\n      }\n    }\n    obj = Reflect.getPrototypeOf(obj);\n  }\n}\n\nclass ObjectType extends Component {\n  constructor(props) {\n    super(props);\n    this.toggle = this.toggle.bind(this);\n\n    this.state = {\n      open: props.open,\n    };\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.state.open !== nextState.open) {\n      return true;\n    }\n\n    if (this.props.filter === undefined) {\n      return false; // this prevents bananas amount of rendering\n    }\n\n    if (this.props.filter === nextProps.filter) {\n      return false;\n    }\n\n    return true;\n  }\n  toggle(e) {\n    if (!this.props.allowOpen) {\n      return;\n    }\n    e.stopPropagation();\n    e.preventDefault();\n    this.setState({ open: !this.state.open });\n  }\n\n  render() {\n    const { open } = this.state;\n    const {\n      filter = null,\n      value,\n      shallow = true,\n      type = {}.toString.call(value),\n    } = this.props;\n    let { displayName } = this.props;\n\n    if (!displayName) {\n      displayName = value.constructor ? value.constructor.name : 'Object';\n    }\n\n    if (!open && shallow) {\n      return (\n        <div onClick={this.toggle} className={`type ${type}`}>\n          <em>{displayName}</em>\n        </div>\n      );\n    }\n\n    let props = open ? [...enumerate(value)] : Object.keys(value);\n\n    Object.getOwnPropertyNames(value).forEach(prop => {\n      if (!props.includes(prop)) {\n        props.push(prop);\n      }\n    });\n\n    if (filter !== null) {\n      props = props.filter(prop => {\n        if ((prop + '').toLowerCase().includes(filter)) {\n          return true;\n        }\n\n        if ((value[prop] + '').toLowerCase().includes(filter)) {\n          return true;\n        }\n\n        return false;\n      });\n    }\n\n    if (!open) {\n      props.splice(LIMIT_CLOSED);\n    }\n\n    let types = props.sort().map((key, i) => {\n      const Type = which(value[key]);\n      return {\n        key,\n        value: (\n          <Type\n            allowOpen={open}\n            key={`objectType-${i + 1}`}\n            shallow={true}\n            value={value[key]}\n          />\n        ),\n      };\n    });\n\n    if (!open && Object.keys(value).length > LIMIT_CLOSED) {\n      types.push(\n        <span key=\"objectType-0\" className=\"more\">\n          \n        </span>\n      );\n    }\n\n    if (!open) {\n      if (type === 'error') {\n        return (\n          <div className={`type ${type}`}>\n            <em onClick={this.toggle}>{displayName}</em>\n            <span>\n              {'{'} <StringType value={value.message} /> {'}'}\n            </span>\n          </div>\n        );\n      }\n      if (displayName !== 'Object') {\n        // just show the summary\n        return (\n          <div className={`type ${type}`}>\n            <em onClick={this.toggle}>{displayName}</em>\n            <span>{'{  }'}</span>\n          </div>\n        );\n      }\n\n      // intersperce with commas\n      types = flatten(\n        zip(\n          types,\n          Array.from(\n            {\n              length: types.length - 1,\n            },\n            (n, i) => {\n              return (\n                <span key={`sep-${i}`} className=\"sep\">\n                  ,\n                </span>\n              );\n            }\n          )\n        )\n      );\n\n      // do mini output\n      return (\n        <div className=\"type object closed\" onClick={this.toggle}>\n          <em>{displayName}</em>\n          <span>{'{'} </span>\n          {types.map((obj, i) => {\n            if (obj && obj.key && obj.value) {\n              return (\n                <span className=\"object-item key-value\" key={`subtype-${i}`}>\n                  <span className=\"key\">{obj.key}:</span>\n                  <span className=\"value\">{obj.value}</span>\n                </span>\n              );\n            }\n\n            return obj;\n          })}\n          <span> {'}'}</span>\n        </div>\n      );\n    }\n\n    return (\n      <div className={`type ${type} ${open ? '' : 'closed'}`}>\n        <div className=\"header\">\n          <em onClick={this.toggle}>{displayName}</em>\n          <span>{'{'}</span>\n        </div>\n        <div className=\"group\">\n          {types.map((obj, i) => {\n            return (\n              <div className=\"object-item key-value\" key={`subtype-${i}`}>\n                <span className=\"key\">{obj.key}:</span>\n                <span className=\"value\">{obj.value}</span>\n              </div>\n            );\n          })}\n        </div>\n        <span>{'}'}</span>\n      </div>\n    );\n  }\n}\n\nexport default ObjectType;\n","import React, { Component } from 'react';\nimport ObjectType from './ObjectType';\n\nclass FunctionType extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      open: props.open,\n    };\n  }\n\n  shouldComponentUpdate() {\n    return false; // this prevents bananas amount of rendering\n  }\n\n  render() {\n    const { value, shallow = true, allowOpen } = this.props;\n    const { open } = this.state;\n\n    // this gets the source of the function, regadless of whether\n    // it has a function called \".toString\", like lodash has!\n    const code = Function.toString.call(value);\n\n    // const native = code.indexOf('[native code') !== -1;\n    let sig = code\n      .substring(0, code.indexOf('{'))\n      .trim()\n      .replace(/\\s/g, ' ');\n\n    if (!sig) {\n      // didn't match because it's an arrow func\n      sig = code.substring(0, code.indexOf('=>')).trim() + ' =>';\n    }\n\n    sig = sig.replace(/^function/, '');\n\n    if (value.hasOwnProperty('toString')) {\n      sig = ` ${value.toString()}`;\n    }\n\n    const object = Object.getOwnPropertyNames(value).reduce((acc, curr) => {\n      acc[curr] = value[curr];\n      return acc;\n    }, {});\n\n    return (\n      <ObjectType\n        allowOpen={allowOpen}\n        type=\"function\"\n        shallow={shallow}\n        open={open}\n        value={object}\n        displayName={sig}\n      />\n    );\n  }\n}\n\nexport default FunctionType;\n","import React, { Component } from 'react';\nimport ObjectType from './ObjectType';\n\nclass ErrorType extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      open: props.open,\n    };\n  }\n\n  render() {\n    const { value, shallow = true, filter, allowOpen } = this.props;\n    const { open } = this.state;\n\n    const sig = value.name || value.constructor.name;\n\n    return (\n      <ObjectType\n        filter={filter}\n        allowOpen={allowOpen}\n        type=\"error\"\n        shallow={shallow}\n        open={open}\n        value={value}\n        displayName={sig}\n      />\n    );\n  }\n}\n\nexport default ErrorType;\n","import React, { Component } from 'react';\n\nclass NullType extends Component {\n  shouldComponentUpdate() {\n    return false;\n  }\n\n  render() {\n    return <div className=\"type null\">null</div>;\n  }\n}\n\nexport default NullType;\n","import React from 'react';\nexport default () => <div className=\"type undefined\">undefined</div>;\n","import React, { Component } from 'react';\n\nclass NumberType extends Component {\n  shouldComponentUpdate() {\n    return false;\n  }\n\n  render() {\n    const { value } = this.props;\n    return <div className=\"type number\">{value}</div>;\n  }\n}\n\nexport default NumberType;\n","import React, { Component } from 'react';\n\nclass BooleanType extends Component {\n  shouldComponentUpdate() {\n    return false;\n  }\n\n  render() {\n    const { value } = this.props;\n    return <div className=\"bool type\">{value ? 'true' : 'false'}</div>;\n  }\n}\n\nexport default BooleanType;\n","import React, { Component } from 'react';\nimport which from '../../lib/which-type';\n\nclass EntryType extends Component {\n  constructor(props) {\n    super(props);\n    this.toggle = this.toggle.bind(this);\n\n    this.state = {\n      open: props.open,\n    };\n  }\n\n  toggle(e) {\n    if (!this.props.allowOpen) {\n      return;\n    }\n    e.stopPropagation();\n    e.preventDefault();\n    this.setState({ open: !this.state.open });\n  }\n\n  render() {\n    // const { shallow = true } = this.props;\n    const entry = this.props.value;\n    const { open } = this.state;\n\n    const [key, value] = entry;\n\n    const Key = which(key);\n    const Value = which(value);\n\n    if (!open) {\n      return (\n        <div onClick={this.toggle} className=\"type entry closed\">\n          <div className=\"object-item key-value\">\n            <span className=\"key\">\n              <Key allowOpen={open} value={key} />\n            </span>\n            <span className=\"arb-info\">=> </span>\n            <span className=\"value\">\n              <Value allowOpen={open} value={value} />\n            </span>\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div onClick={this.toggle} className=\"type entry\">\n        <span>{'{'}</span>\n        <div className=\"group\">\n          <div className=\"object-item key-value\">\n            <span className=\"key\">key:</span>\n            <span className=\"value\">\n              <Key allowOpen={open} value={key} />\n            </span>\n          </div>\n          <div className=\"object-item key-value\">\n            <span className=\"key\">value:</span>\n            <span className=\"value\">\n              <Value allowOpen={open} value={value} />\n            </span>\n          </div>\n        </div>\n        <span>{'}'}</span>\n      </div>\n    );\n  }\n}\n\nexport default EntryType;\n","import React, { Component } from 'react';\nimport Entry from './EntryType';\nimport zip from 'lodash/zip';\nimport flatten from 'lodash/flatten';\n\nclass SetType extends Component {\n  constructor(props) {\n    super(props);\n    this.toggle = this.toggle.bind(this);\n\n    this.state = {\n      open: props.open,\n    };\n  }\n\n  toggle(e) {\n    if (!this.props.allowOpen) {\n      return;\n    }\n    e.stopPropagation();\n    e.preventDefault();\n    this.setState({ open: !this.state.open });\n  }\n\n  render() {\n    const { value, shallow = true } = this.props;\n    const { open } = this.state;\n    let { displayName } = this.props;\n\n    if (!displayName) {\n      displayName = value.constructor ? value.constructor.name : 'Object';\n    }\n\n    let length = value.size;\n\n    if (shallow && !open) {\n      return (\n        <div className=\"type ArrayType closed\" onClick={this.toggle}>\n          <em>{displayName}</em>\n          <span className=\"arb-info\">({length})</span>\n        </div>\n      );\n    }\n\n    let types = [];\n    let i = 0;\n\n    for (let entry of value.entries()) {\n      types.push(\n        <Entry\n          key={`setTypeKey-${i + 1}`}\n          shallow={true}\n          value={entry}\n          allowOpen={open}\n        />\n      );\n      i++;\n      if (!open && i === 10) {\n        break;\n      }\n    }\n\n    if (!open && length > 10) {\n      types.push(\n        <span key=\"setTypeMore-0\" className=\"more arb-info\">\n          \n        </span>\n      );\n    }\n\n    if (!open) {\n      // intersperce with commas\n      types = flatten(\n        zip(\n          types,\n          Array.from({ length: length - 1 }, (n, i) => (\n            <span key={`sep-${i}`} className=\"sep\">\n              ,\n            </span>\n          ))\n        )\n      );\n\n      // do mini output\n      return (\n        <div className=\"type set closed\" onClick={this.toggle}>\n          <em>{displayName}</em>\n          <span className=\"arb-info\">({length})</span>\n          <span> {'{'} </span>\n          {types.map((type, i) => (\n            <div className=\"key-value\" key={`subtype-${i}`}>\n              {type}\n            </div>\n          ))}\n          <span> {'}'}</span>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"type set\" onClick={this.toggle}>\n        <em>{displayName}</em>\n        <span className=\"arb-info\">({length})</span>\n        <span> {'{'} </span>\n        <div className=\"group\">\n          <span className=\"arb-info\">[[Entries]]:</span>\n          {types.map((type, i) => (\n            <div className=\"key-value\" key={`subtype-${i}`}>\n              <span className=\"index\">{i}:</span>\n              {type}\n            </div>\n          ))}\n        </div>\n        <span> {'}'}</span>\n      </div>\n    );\n  }\n}\n\nexport default SetType;\n","import React, { Component } from 'react';\nimport which from '../../lib/which-type';\n\nclass PromiseType extends Component {\n  constructor(props) {\n    super(props);\n    this.toggle = this.toggle.bind(this);\n\n    this.state = {\n      open: props.open,\n      promiseValue: undefined,\n      status: 'pending',\n    };\n  }\n\n  async toggle(e) {\n    if (!this.props.allowOpen) {\n      return;\n    }\n    e.stopPropagation();\n    e.preventDefault();\n    const open = !this.state.open;\n\n    if (open) {\n      // update promise value\n      const { promiseValue, status } = await this.updatePromiseState();\n      return this.setState({ promiseValue, status, open });\n    }\n\n    this.setState({ open });\n  }\n\n  async updatePromiseState() {\n    let promiseValue = undefined;\n    let status = 'pending';\n\n    const flag = Math.random();\n    try {\n      promiseValue = await Promise.race([\n        this.props.value,\n        new Promise(resolve => setTimeout(() => resolve(flag), 10)),\n      ]);\n\n      if (promiseValue !== flag) {\n        status = 'resolved';\n      } else {\n        promiseValue = undefined;\n      }\n    } catch (e) {\n      promiseValue = e;\n      status = 'rejected';\n    }\n\n    return {\n      promiseValue,\n      status,\n    };\n  }\n\n  async componentDidMount() {\n    const { promiseValue, status } = await this.updatePromiseState();\n    this.setState({ promiseValue, status });\n  }\n\n  render() {\n    const { filter } = this.props;\n    const { open, promiseValue, status } = this.state;\n\n    const Value = which(promiseValue);\n\n    if (!open) {\n      return (\n        <div onClick={this.toggle} className=\"type entry closed\">\n          <em>Promise</em>\n          {'{ '}\n          <div className=\"object-item key-value\">\n            <span className=\"key\">[[PromiseStatus]]:</span>\n            <span className=\"value\">{status}</span>\n          </div>\n          <span className=\"arb-info\">, </span>\n          <div className=\"object-item key-value\">\n            <span className=\"key\">[[PromiseValue]]:</span>\n            <span className=\"value\">\n              <Value\n                filter={filter}\n                shallow={true}\n                allowOpen={open}\n                value={promiseValue}\n              />\n            </span>\n          </div>\n          {' }'}\n        </div>\n      );\n    }\n\n    return (\n      <div onClick={this.toggle} className=\"type promise\">\n        <div className=\"header\">\n          <em>Promise</em>\n          <span>{'{'}</span>\n        </div>\n        <div className=\"group\">\n          <div className=\"object-item key-value\">\n            <span className=\"key\">[[PromiseStatus]]:</span>\n            <span className=\"value\">{status}</span>\n          </div>\n          <div className=\"object-item key-value\">\n            <span className=\"key\">[[PromiseValue]]:</span>\n            <span className=\"value\">\n              <Value\n                filter={filter}\n                shallow={true}\n                allowOpen={open}\n                value={promiseValue}\n              />\n            </span>\n          </div>\n        </div>\n        <span>{'}'}</span>\n      </div>\n    );\n  }\n}\n\nexport default PromiseType;\n","import ArrayType from '../components/types/ArrayType';\nimport ObjectType from '../components/types/ObjectType';\nimport FunctionType from '../components/types/FunctionType';\nimport ErrorType from '../components/types/ErrorType';\nimport NullType from '../components/types/NullType';\nimport UndefinedType from '../components/types/UndefinedType';\nimport NumberType from '../components/types/NumberType';\nimport StringType from '../components/types/StringType';\nimport BooleanType from '../components/types/BooleanType';\nimport SetType from '../components/types/SetType';\nimport PromiseType from '../components/types/PromiseType';\n\nfunction whichType(value) {\n  let type = '[object Object]';\n  try {\n    type = ({}).toString.call(value);\n  } catch (e) { // only happens when typeof is protected (...randomly)\n  }\n\n  if (type === '[object String]') {\n    return StringType;\n  }\n\n  if (type === '[object Number]') {\n    return NumberType;\n  }\n\n  if (type === '[object Boolean]') {\n    return BooleanType;\n  }\n\n  if (type === '[object Set]' || type === '[object Map]') {\n    return SetType;\n  }\n\n  if (type === '[object Promise]') {\n    return PromiseType;\n  }\n\n  if (value instanceof Error || type === '[object Error]') {\n    return ErrorType;\n  }\n\n  if (value === undefined) {\n    return UndefinedType;\n  }\n\n  if (value === null) {\n    return NullType;\n  }\n\n  if (type === '[object Array]') {\n    return ArrayType;\n  }\n\n  if (type === '[object Function]') {\n    return FunctionType;\n  }\n\n  // TODO DOM nodes, etc.\n\n  // everything is eventually an object!\n  return ObjectType;\n}\n\nexport default whichType;\n","import React, { Component } from 'react';\n\nexport class PlotPanel extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      this.props.plotIds.map((id) =>\n        <Plot plotId={id} />\n      )\n    )\n  }\n}\n\nexport class Plot extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div className=\"plot-slot\">\n        <div>\n          <span>#plot-{this.props.plotId}</span>\n        </div>\n        <div id={\"plot-\" + this.props.plotId}>\n          {/* <h3 className=\"plot-placeholder\">{\"#plot-\" + this.props.plotId}</h3> */}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class Canvas extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div className=\"canvas-slot\">\n        <div>\n          <span>#canvas-{this.props.canvasId}</span>\n        </div>\n        <canvas id={\"canvas-\" + this.props.canvasId}></canvas>\n      </div>\n    )\n  }\n}\n\nexport default PlotPanel;","import DataFrame from 'dataframe-js';\n\n// let imgid = 0;\n// const getNextImgid = () => imgid++;\nwindow._img_ = [];\nwindow._text_ = [];\n\n// requires tensorflow\nexport var loadImgTensor = function(srcUrl) {\n    loadImg(srcUrl, () => {\n        window._t_ = window.tf.fromPixels(window._img_).toFloat();\n        // console.log('Image loaded as window.t');\n    });\n}\n\nexport var loadText = function(selectionText) {\n    window._text_.push(selectionText);\n    const textid = window._text_.length - 1;\n    console.log(`Text loaded as <span class=\"sGreen\">window._text_[${textid}]</span>`);\n}\n\nexport var loadImg = function(srcUrl, info, imgOnload) {\n    let img = new Image();\n    if (info) {\n        img.relSrc = info.relSrc;\n        img.id = info.id;\n    } else {\n        img.relSrc = srcUrl;\n    }\n    window._img_.push(img);\n    const imgid = window._img_.length - 1;\n    img.onload = () => {\n        console.log(`Image loaded as <span class=\"sGreen\">window._img_[${imgid}]</span>`);\n        const imgWidth = img.width;\n        const imgHeight = img.height;\n        if (imgWidth > window.innerWidth) {\n            img.width = window.innerWidth;\n            img.height = imgHeight / (imgWidth / window.innerWidth);\n        }\n        if (imgOnload) {\n            imgOnload(imgid);\n        }\n    };\n    img.src = srcUrl;\n}\n\nexport var loadAllImgs = function(imgs) {\n    // console.log(imgs);\n    for (let info of imgs) {\n        loadImg(info.relSrc, info);\n    }\n}\n\nwindow.loadImg = loadImg;\n\nwindow.addImageColumn = function(classifier, imageCol) {\n    let oCol = imageCol.toDict();\n    let label = Object.keys(oCol)[0];\n    let htmls = oCol[label];\n    for (let html of htmls) {\n        let wrapper = document.createElement('div');\n        wrapper.innerHTML = html;\n        let srcUrl = wrapper.firstChild.src.split('/').slice(3).join('/');\n        // console.log(srcUrl);\n        loadImg(window.hostUrlBase + '/' + srcUrl, {}, (imgid) => {\n            if (classifier) {\n                classifier.addImage(window._img_[imgid], label);\n            }\n        });\n    }\n};\n\nexport var loadVideo = function(srcUrl) {\n    window._video_ = document.createElement('video');\n    window._video_.onloadstart = () => {\n        console.log('Video loaded as window._video_');\n    };\n\n    window._video_.oncanplay = () => {\n        window._video_.width = window._video_.videoWidth;\n        window._video_.height = window._video_.videoHeight;\n    }\n\n    window._video_.setAttribute('crossOrigin', 'anonymous');\n    window._video_.setAttribute('src', srcUrl);\n}\n\nexport var loadXSV = function(link) {\n    let p;\n    if (link.endsWith('.tsv')) {\n        p = DataFrame.fromTSV(link).then(df => { window._df_ = df });\n    } else if (link.endsWith('.csv')) {\n        p = DataFrame.fromCSV(link).then(df => { window._df_ = df });\n    }\n    Promise.resolve(p);\n}\n\nexport var cols2DF = function(_columns, _ePath) {\n    let data = {};\n    let columns = [];\n    _columns.forEach((c) => {\n        // console._log(c);\n        c = c.map(x => x.trim());\n        data[c[0]] = c.slice(1)\n        columns.push(c[0]);\n    });\n    window._df_ = new DataFrame(data, columns);\n    window._df_.ePath = _ePath;\n}","import React, { Component } from 'react';\nimport DataFrame from 'dataframe-js';\nimport { loadImg, loadXSV, cols2DF } from './jsconsole/core/lib/utils';\n\nexport class ImagePanel extends Component {\n  constructor(props) {\n    super(props);\n\n    // console.log(this.props);\n\n    this.state = {\n      imgCode: ''\n    };\n  }\n\n  preventDefault = (e) => {\n    e.preventDefault();\n    // console._log('on drag over');\n  }\n\n  // dummy way using a canvas element\n  _imgCode2tensor = (imgCode) => {\n    let img = new Image();\n    img.onload = () => {\n      let canvas = document.createElement('canvas');\n      let ctx = canvas.getContext('2d');\n      canvas.width = img.naturalWidth;\n      canvas.height = img.naturalHeight;\n      ctx.drawImage(img, 0, 0);\n      let imgData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n      window.t = window.tf.tensor3d(new Float32Array(imgData.data), [img.naturalWidth, img.naturalHeight, 4]);\n    };\n    img.src = imgCode;\n  }\n\n  // convenient way using tensorflow - tf required\n  // imgCode2tensor = (imgCode) => {\n  //   let img = new Image();\n  //   img.onload = () => {\n  //     window.t = window.tf.fromPixels(img).toFloat();\n  //   };\n  //   img.src = imgCode;\n  // }\n\n  drop = (e) => {\n    e.preventDefault();\n    let dragType = e.dataTransfer.getData('dragType');\n    console._log(dragType);\n    switch(dragType) {\n      case 'img':\n        console._log('dropping img');\n        let _id = e.dataTransfer.getData('id');\n        let imgCode = e.dataTransfer.getData('imgCode');\n        this.setState({\n          imgCode: imgCode\n        });\n        loadImg(imgCode, { relSrc: imgCode, id: _id });\n        break;\n      case 'table':\n        console._log('dropping table');\n        let _columns = JSON.parse(e.dataTransfer.getData('columns'));\n        cols2DF(_columns);\n        break;\n      case 'link':\n        let href = e.dataTransfer.getData('href');\n        loadXSV(href);\n        break;\n      default:\n        break;\n    }\n  }\n\n  render() {\n    return (\n      <div\n        id=\"drag-area\"\n        className={this.props.isDragStart ? \"drag-slot-start\" : \"drag-slot-end\"}\n        onDragOver={this.preventDefault}\n        onDrop={this.drop}\n      >\n        <img src={this.state.imgCode} />\n      </div>\n    )\n  }\n}\n\nexport default ImagePanel;","import { connect } from 'react-redux';\nimport ImagePanel from '../../../ImagePanel';\n\nexport default connect(({ drags }) => ({ isDragStart: drags.isDragStart }))(ImagePanel);","import React, { Component } from 'react';\nimport { Chrome } from './LibWrappers';\n\nexport class HTMLPanel extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div dangerouslySetInnerHTML={{__html: this.props.text}}></div>\n    )\n  }\n}\n\nexport class WebcamPanel extends Component {\n  constructor(props) {\n    super(props);\n\n    window.startTracking = async () => {\n      window.trackingTask = setInterval(window.track, 3000);\n    };\n\n    window.stopTracking = () => {\n      clearInterval(window.trackingTask);\n    };\n\n    window.track = async () => {\n      let video = document.querySelector('#video');\n      let mask = document.querySelector('#video-mask');\n      let fullFaceDescriptions = await window.faceapi.detectSingleFace(video);\n      let direction;\n      if (fullFaceDescriptions) {\n        let faceBox = fullFaceDescriptions.box;\n        let midx = faceBox._x + faceBox._width / 2;\n        let midy = faceBox._y + faceBox._height / 2;\n        if (1.0 * Math.abs(midx - video.width / 2) / video.width < 0.1) {\n            // up or down\n            if (midy > (video.height / 2)) {\n                direction = 'down';\n            } else {\n                direction = 'up';\n            }\n        } else {\n            // left or right\n            if (midx > (video.width / 2)) {\n                direction = 'left';\n            } else {\n                direction = 'right';\n            }\n        }\n\n        Chrome.runtime.sendMessage({ action: 'direction', direction: direction });\n\n        mask.getContext('2d').clearRect(0, 0, mask.width, mask.height);\n        window.faceapi.drawDetection(mask, faceBox);\n      }\n    };\n  }\n\n  componentDidMount() {\n    if (navigator.mediaDevices.getUserMedia) {\n      let video = document.querySelector('#video');\n\n      navigator.mediaDevices.getUserMedia({ video: true })\n      .then(stream => {\n\n        video.srcObject = stream;\n      })\n      .catch(err => {\n        console.log(err);\n      });\n\n      let mask = document.querySelector('#video-mask');\n      mask.width = video.offsetWidth;\n      mask.height = video.offsetHeight;\n      mask.style.left = video.offsetLeft;\n      mask.style.top = video.offsetTop;\n      let context = mask.getContext('2d');\n      context.translate(mask.width, 0);\n      context.scale(-1, 1);\n\n      this.loadFaceAPI();\n    }\n  }\n\n  async loadFaceAPI() {\n    const MODEL_URL = 'https://www.bearzx.com/pgxz3/weights/';\n    await window.faceapi.loadSsdMobilenetv1Model(MODEL_URL);\n    await window.faceapi.loadFaceLandmarkModel(MODEL_URL);\n    await window.faceapi.loadFaceRecognitionModel(MODEL_URL);\n  }\n\n  render() {\n    return (\n      <div class=\"video-block\">\n        <canvas id=\"video-mask\"></canvas>\n        <video id=\"video\" width=\"640\" height=\"480\" autoplay=\"true\"></video>\n        {/* <iframe src=\"https://www.bearzx.com/pgxz3/camera.html\" width=\"640\" height=\"480\"></iframe> */}\n      </div>\n    )\n  }\n}\n\nexport default HTMLPanel;","import React, { Component } from 'react';\nimport LineNav from './LineNav';\nimport which from '../lib/which-type';\nimport { Plot, Canvas } from '../../../PlotPanel';\nimport ImagePanel from '../containers/ImagePanel';\nimport { HTMLPanel, WebcamPanel } from '../../../HTMLPanel';\n\nclass Line extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filter: null,\n    };\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.state.filter !== nextState.filter) {\n      return true;\n    }\n\n    if (this.props.hidden !== nextProps.hidden) {\n      return true;\n    }\n\n    if (this.props.evalable !== nextProps.evalable) {\n      return true;\n    }\n\n    if (this.props.value !== nextProps.value) {\n      return true;\n    }\n\n    return false; // this prevents bananas amount of rendering\n  }\n\n  render() {\n    const {\n      type = 'response',\n      value,\n      command = null,\n      error = false,\n      open = false,\n      html = false,\n      hidden = false,\n      evalable = false,\n      onFocus = () => { },\n      onHide = () => { },\n      onReRun = () => { },\n    } = this.props;\n\n    // console._log(this.props);\n\n    let line = null;\n\n    const { filter } = this.state;\n\n    if (type === 'vis') {\n      line = (\n        <Plot plotId={value.plotId} />\n      );\n    }\n\n    if (type === 'canvas') {\n      line = (\n        <Canvas canvasId={value.canvasId} />\n      );\n    }\n\n    if (type === 'dnd') {\n      line = (\n        <ImagePanel />\n      );\n    }\n\n    if (type === 'html') {\n      // console._log(value);\n      line = (\n        <HTMLPanel text={value.text} />\n      );\n    }\n\n    if (type === 'table') {\n      let html = window.df2HTML(value.df);\n      line = (\n        <HTMLPanel text={html} />\n      );\n    }\n\n    if (type === 'img') {\n      line = (\n        <img src={value.src} />\n      );\n    }\n\n    if (type == 'webcam') {\n      line = (\n        <WebcamPanel />\n      );\n    }\n\n    if (type === 'command') {\n      line = (\n        <div className=\"prompt input\">\n          <LineNav value={value} evalable={evalable} onReRun={onReRun} onHide={onHide} />\n          {value}\n        </div>\n      );\n    }\n\n    if (type === 'log' || type === 'response') {\n      if (type === 'log' && Array.isArray(value) && value.length === 0) {\n        return null;\n      }\n\n      // for LineNav I do a bit of a giggle so if it's a log, we copy the single\n      // value, which is nicer for the user\n      line = (\n        <div className={ `prompt output ${type} ${error ? 'error' : ''} ${hidden ? 'hidden' : ''}` }>\n\n          <LineNav\n            onFilter={filter => {\n              this.setState({ filter });\n            }}\n            onHide={onHide}\n            value={\n              type === 'log' && Array.isArray(value) && value.length === 1\n                ? value[0]\n                : value\n            }\n            command={command}\n            evalable={evalable}\n          />\n\n          {(type === 'log' && Array.isArray(value) ? value : [value]).map(\n            (value, i) => {\n              const Type = which(value);\n              return (\n                <Type\n                  filter={filter}\n                  html={html}\n                  value={value}\n                  open={open}\n                  allowOpen={true}\n                  bare={type === 'log'}\n                  key={`type-${i}`}\n                  shallow={false} >\n                  {value}\n                </Type>\n              );\n            }\n          )}\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"Line\" onClick={onFocus}>\n        {line}\n      </div>\n    );\n  }\n}\n\nexport default Line;\n","/* global document window */\nimport { parse } from 'babylon';\nimport * as walk from 'babylon-walk';\n\nimport copy from 'copy-to-clipboard';\n\nlet container = null;\n\nexport const bindConsole = __console => {\n  // supported methods\n  const apply = [\n    'log',\n    '_log',\n    'error',\n    '_error',\n    'dir',\n    'info',\n    'warn',\n    '_warn',\n    'assert',\n    'debug',\n    'clear',\n    'vis',\n    'dnd',\n    'showTensor',\n    'html',\n    'downloadCode',\n    'uploadCode',\n    'table',\n    'img',\n    'webcam'\n  ];\n\n  const _log = window.console.log;\n  const _error = window.console.error;\n  const _warn = window.console.warn;\n\n  apply.forEach(method => {\n    // container.contentWindow.console[method] = (...args) => {\n    window.console[method] = (...args) => {\n      // window.console[method].apply(window.console, args);\n      __console[method].apply(__console, args);\n    };\n  });\n\n  window.console['_log'] = (...args) => {\n    // _log(args);\n    _log.apply(window.console, args);\n  };\n\n  window.console['_error'] = (...args) => {\n    _error.apply(window.console, args);\n  };\n\n  window.console['_warn'] = (...args) => {\n    _warn.apply(window.console, args);\n  };\n};\n\n// export const getContainer = () => container;\nexport const getContainer = () => window;\n\nexport function createContainer() {\n  container = document.createElement('iframe');\n  container.width = container.height = 1;\n  container.style.opacity = 0;\n  container.style.border = 0;\n  container.style.position = 'absolute';\n  container.style.top = '-100px';\n  container.setAttribute('name', '<proxy>');\n  document.body.appendChild(container);\n  setContainer(container);\n}\n\nexport function setContainer(iframe) {\n  container = iframe;\n  const win = container.contentWindow;\n  const doc = container.contentDocument;\n\n  win.copy = copy;\n  win.$$ = s => Array.from(doc.querySelectorAll(s));\n  win.$ = s => doc.querySelector(s);\n}\n\nexport default async function run(command) {\n  return new Promise(async resolve => {\n    const res = {\n      error: false,\n      command,\n    };\n\n    try {\n      // // trick from devtools\n      // // via https://chromium.googlesource.com/chromium/src.git/+/4fd348fdb9c0b3842829acdfb2b82c86dacd8e0a%5E%21/#F2\n      if (/^\\s*\\{/.test(command) && /\\}\\s*$/.test(command)) {\n        command = `(${command})`;\n      }\n\n      const { content, additionalCode } = preProcess(command);\n\n      // IMPORTANT: because we're going across iframe bridge here, the constructor\n      // of the response value is changed to Object, so even if we return an error\n      // or a promise, `value instanceof Error` will always be false.\n      // This is why across all the code, I actually use the `isa` pattern to get\n      // the original constructor from ({}).toString.call(value)\n\n      if (content.startsWith('(async () => ')) {\n        // res.value = await container.contentWindow.eval(content);\n        res.value = await window.eval(content);\n      } else {\n        // res.value = container.contentWindow.eval(content);\n        res.value = window.eval(content);\n      }\n\n      // if there's no extra code (usually to block out a const), then let's\n      // go ahead and store the result in $_\n      if (!additionalCode) {\n        container.contentWindow.$_ = res.value;\n      }\n\n      if (additionalCode !== null) {\n        const doc = container.contentDocument;\n        const script = doc.createElement('script');\n        const blob = new Blob([additionalCode], {\n          type: 'application/javascript',\n        });\n        script.src = URL.createObjectURL(blob);\n        container.contentWindow.onerror = (message, file, line, col, error) => {\n          res.error = true;\n          res.value = error;\n          resolve(res);\n        };\n        script.onload = () => {\n          resolve(res);\n          container.contentWindow.onerror = () => {};\n        };\n        doc.documentElement.appendChild(script);\n      } else {\n        return resolve(res);\n      }\n    } catch (error) {\n      // console._error(error);\n      res.error = true;\n      res.value = error;\n      return resolve(res);\n    }\n  });\n}\n\nexport function preProcess(content) {\n  var wrapped = '(async () => {' + content + '})()';\n  var root = parse(wrapped, { ecmaVersion: 8 });\n  var body = root.program.body[0].expression.callee.body;\n\n  var changes = [];\n  var containsAwait = false;\n  var containsReturn = false;\n\n  const visitors = {\n    ClassDeclaration(node) {\n      if (node.parent === body)\n        changes.push({\n          text: node.id.name + '=',\n          start: node.start,\n          end: node.start,\n        });\n    },\n    FunctionDeclaration(node) {\n      changes.push({\n        text: node.id.name + '=',\n        start: node.start,\n        end: node.start,\n      });\n      return node;\n    },\n    AwaitExpression(node) {\n      containsAwait = true;\n    },\n    ReturnStatement(node) {\n      containsReturn = true;\n    },\n    VariableDeclaration(node) {\n      if (node.kind !== 'var' && node.parent !== body) return;\n      var onlyOneDeclaration = node.declarations.length === 1;\n      changes.push({\n        text: onlyOneDeclaration ? 'void' : 'void (',\n        start: node.start,\n        end: node.start + node.kind.length,\n      });\n      for (var declaration of node.declarations) {\n        if (!declaration.init) {\n          changes.push({\n            text: '(',\n            start: declaration.start,\n            end: declaration.start,\n          });\n          changes.push({\n            text: '=undefined)',\n            start: declaration.end,\n            end: declaration.end,\n          });\n          continue;\n        }\n        changes.push({\n          text: '(',\n          start: declaration.start,\n          end: declaration.start,\n        });\n        changes.push({\n          text: ')',\n          start: declaration.end,\n          end: declaration.end,\n        });\n      }\n      if (!onlyOneDeclaration) {\n        const last = node.declarations[node.declarations.length - 1];\n        changes.push({ text: ')', start: last.end, end: last.end });\n      }\n    },\n  };\n\n  walk.simple(body, visitors);\n\n  var last = body.body[body.body.length - 1];\n  let additionalCode = null;\n\n  if (last === undefined) {\n    return {\n      additionalCode,\n      content,\n    };\n  }\n\n  if (last.type === 'ExpressionStatement') {\n    changes.push({\n      text: 'return window.$_ = (',\n      start: last.start,\n      end: last.start,\n    });\n    if (wrapped[last.end - 1] !== ';')\n      changes.push({ text: ')', start: last.end, end: last.end });\n    else changes.push({ text: ')', start: last.end - 1, end: last.end - 1 });\n  }\n\n  if (last.type === 'VariableDeclaration' && last.kind === 'const') {\n    additionalCode = `const ${last.declarations['0'].id.name} = $_`;\n\n    changes.push({\n      text: `const ${last.declarations['0'].id.name} = window.$_`,\n      start: last.start,\n      end: last.declarations['0'].id.end,\n    });\n  }\n\n  // support inline async statements\n  if (!containsAwait || containsReturn) {\n    if (additionalCode) {\n      const offset = 14; // length of `(async () => {`\n      content =\n        content.substr(0, last.declarations['0'].id.end - offset) +\n        ' = window.$_' +\n        content.substr(last.declarations['0'].id.end - offset);\n    }\n    // console.log(content);\n    return { content, additionalCode };\n  }\n\n  while (changes.length) {\n    var change = changes.pop();\n    wrapped =\n      wrapped.substr(0, change.start) +\n      change.text +\n      wrapped.substr(change.end);\n  }\n\n  // console.log(wrapped);\n\n  return { content: wrapped, additionalCode };\n}\n","import React, { Component } from 'react';\nimport Line from './Line';\nimport { Chrome } from '../../../LibWrappers';\nimport run from '../lib/run';\nimport ReactCSSTransitionGroup from 'react-addons-css-transition-group';\n\nlet guid = 0;\nlet visid = 0;\nlet canvasid = 0;\nconst getNext = () => guid++;\nconst getNextVisid = () => visid++;\nconst getNextCanvasid = () => canvasid++;\n\nfunction AssertError(message) {\n  this.name = 'Assertion fail';\n  this.message = message;\n  this.stack = new Error().stack;\n}\n\nAssertError.prototype = new Error();\n\nfunction interpolate(...args) {\n  let [string, ...rest] = args;\n  let html = false;\n\n  if (typeof string === 'string' && string.includes('%') && rest.length) {\n    string = string.replace(\n      /(%[scdif]|%(\\d*)\\.(\\d*)[dif])/g,\n      (all, key, width = '', dp) => {\n        // NOTE: not supporting Object type\n\n        if (key === '%s') {\n          // string\n          return rest.shift();\n        }\n\n        if (key === '%c') {\n          html = true;\n          return `</span><span style=\"${rest.shift()}\">`;\n        }\n\n        const value = rest.shift();\n        let res = null;\n\n        if (key.substr(-1) === 'f') {\n          if (isNaN(parseInt(dp, 10))) {\n            res = value;\n          } else {\n            res = value.toFixed(dp);\n          }\n        } else {\n          res = parseInt(value, 10);\n        }\n\n        if (width === '') {\n          return res;\n        }\n\n        return res.toString().padStart(width, ' ');\n      }\n    );\n\n    if (html) {\n      string = `<span>${string}</span>`;\n    }\n\n    args = [string, ...rest];\n  }\n\n  return { html, args };\n}\n\nclass Console extends Component {\n  constructor(props) {\n    super(props);\n\n    window.resetConsoleState = () => {\n\n    };\n\n    this.state = {};\n    // TODO: add hidden property\n    this.state.lines = (props.commands || []).reduce((acc, curr) => {\n      acc[getNext()] = curr;\n      return acc;\n    }, {});\n\n    this.log = this.log.bind(this);\n    this._log = this._log.bind(this);\n    this._error = this._error.bind(this);\n    this.warn = this.warn.bind(this);\n    this._warn = this._warn.bind(this);\n    this.clear = this.clear.bind(this);\n    this.push = this.push.bind(this);\n    this.onUploadedCodeChange = this.onUploadedCodeChange.bind(this);\n  }\n\n  push(command) {\n    const next = command.linei ? command.linei : getNext();\n    let addons = { hidden: command.level === 'warn' ? true : false };\n    const newLine = {\n      [next]: {\n        ...command,\n        ...addons\n      }\n    };\n    // console._log(newLine);\n    this.setState({ lines: Object.assign(this.state.lines, newLine) });\n  }\n\n  clear() {\n    this.setState({ lines: {} });\n  }\n\n  error = (...rest) => {\n    this._error(...rest);\n\n    const { html, args } = interpolate(...rest);\n    this.push({\n      error: true,\n      html,\n      value: args,\n      type: 'log',\n    });\n  };\n\n  _error = (...rest) => {\n    window.console._error(...rest);\n  };\n\n  assert(test, ...rest) {\n    // intentional loose assertion test - matches devtools\n    if (!test) {\n      let msg = rest.shift();\n      if (msg === undefined) {\n        msg = 'console.assert';\n      }\n      rest.unshift(new AssertError(msg));\n      this.push({\n        error: true,\n        value: rest,\n        type: 'log',\n      });\n    }\n  }\n\n  dir = (...rest) => {\n    const { html, args } = interpolate(...rest);\n\n    this.push({\n      value: args,\n      html,\n      open: true,\n      type: 'log',\n    });\n  };\n\n  warn(...rest) {\n    this._warn(...rest);\n\n    const { html, args } = interpolate(...rest);\n    this.push({\n      error: true,\n      level: 'warn',\n      html,\n      value: args,\n      type: 'log',\n    });\n  }\n\n  _warn = (...rest) => {\n    window.console._warn(...rest);\n  };\n\n  debug = (...args) => this.log(...args);\n  info = (...args) => this.log(...args);\n\n  log(...rest) {\n    let { html, args } = interpolate(...rest);\n    html = true;\n\n    this.push({\n      value: args,\n      html,\n      type: 'log',\n    });\n  }\n\n  table(df) {\n    this.push({\n      type: 'table',\n      value: {\n        df: df\n      }\n    });\n  }\n\n  img(img) {\n    this.push({\n      type: 'img',\n      value: {\n        src: img.src\n      }\n    });\n  }\n\n  vis() {\n    this.push({\n      type: 'vis',\n      value: { plotId: getNextVisid() }\n    });\n  }\n\n  html(_text) {\n    this.push({\n      type: 'html',\n      value: { text: _text }\n    });\n  }\n\n  canvas(_canvasId) {\n    this.push({\n      type: 'canvas',\n      value: { canvasId: getNextCanvasid() }\n    });\n  }\n\n  webcam() {\n    this.push({\n      type: 'webcam'\n    });\n  }\n\n  dnd() {\n    this.push({\n      type: 'dnd'\n    });\n  }\n\n  _log(...rest) {\n    window.console._log(rest);\n  }\n\n  downloadCode() {\n    let commands = this.state.lines || {};\n    let blob = new Blob([JSON.stringify(commands)], { type: 'application/json' });\n    let url = URL.createObjectURL(blob);\n    Chrome.downloads.download({\n        url: url,\n        filename: 'pgxz3-backup.json'\n    });\n  }\n\n  uploadCode() {\n    // TODO: clean this up as a exported lib\n    window._$('#code-upload').click();\n  }\n\n  onUploadedCodeChange(e) {\n    // console._log(e.target.files);\n    let backupCode = e.target.files[0];\n    let reader = new FileReader();\n    let lineIndices = [];\n    reader.onload = (_e) => {\n      let newLines = JSON.parse(_e.target.result);\n      for (let key of Object.keys(newLines)) {\n        newLines[key].linei = parseInt(key);\n        lineIndices.push(parseInt(key));\n        if (newLines[key].type === 'command') {\n          newLines[key].evalable = true;\n        }\n      }\n      guid = Math.max(...lineIndices) + 1;\n      this.setState({ lines: newLines });\n    };\n    reader.readAsText(backupCode);\n  }\n\n  showTensor(tensor, canvas) {\n    const ctx = canvas.getContext('2d');\n    const [height, width] = tensor.shape;\n    canvas.width = width;\n    canvas.height = height;\n    const buffer = new Uint8ClampedArray(width * height * 4);\n    const imageData = new ImageData(width, height);\n    const data = tensor.dataSync();\n    var cnt = 0;\n    for(var y = 0; y < height; y++) {\n        for(var x = 0; x < width; x++) {\n            var pos = (y * width + x) * 4; // position in buffer based on x and y\n            buffer[pos  ] = data[cnt]; // some R value [0, 255]\n            buffer[pos + 1] = data[cnt + 1]; // some G value\n            buffer[pos + 2] = data[cnt + 2]; // some B value\n            buffer[pos + 3] = 255; // set alpha channel\n            cnt += 3;\n        }\n    }\n    imageData.data.set(buffer);\n    ctx.putImageData(imageData, 0, 0);\n  }\n\n  _edit_(name) {\n    Chrome.storage.local.get(['saved_scripts'], function(result) {\n      if (result.saved_scripts[name]) {\n        window.changeAppState({\n          fname: name,\n          code: result.saved_scripts[name],\n          tabId: 1\n        });\n      } else {\n        console.error('No such file');\n      }\n    });\n  }\n\n  _run_(name) {\n    const _this = this;\n    Chrome.storage.local.get(['saved_scripts'], function(result) {\n      if (result.saved_scripts[name]) {\n        try {\n          window.eval(result.saved_scripts[name]);\n        } catch (error) {\n          const res = {};\n          res.error = true;\n          res.value = error;\n          _this.push({\n            name,\n            type: 'response',\n            ...res,\n          });\n        }\n        // run(result.saved_scripts[name]);\n      } else {\n        console.error('No such file');\n      }\n    });\n  }\n\n  onHide(i) {\n    return () => {\n      let lines = {...this.state.lines};\n      let lineToHide = {\n        ...lines[i],\n        hidden: true\n      };\n      lines[i] = lineToHide;\n      this.setState({ lines: lines });\n    }\n  }\n\n  onReRun(i) {\n    return async () => {\n      // console._log(`re-running ${this.state.lines[i].command}`);\n      let lines = {...this.state.lines};\n      let lineToHide = {\n        ...lines[i],\n        evalable: false\n      };\n      lines[i] = lineToHide;\n      this.setState({ lines: lines });\n      this.props.onRun(this.state.lines[i].command, lines[i].linei);\n    }\n  }\n\n  render() {\n    const commands = this.state.lines || {};\n    const keys = Object.keys(commands).filter((_) => !commands[_].hidden);\n    // console.log(typeof keys[0]);\n    if (this.props.reverse) {\n      keys.reverse();\n    }\n\n    // [Xiong] Bug TODO: why is the key order guaranteed?\n    return (\n      <div\n        className=\"react-console-container\"\n        onClick={e => {\n          e.stopPropagation(); // prevent the focus on the input element\n        }}\n      >\n        <input\n          id=\"code-upload\"\n          type=\"file\"\n          name=\"backupCode\"\n          onChange={(e) => this.onUploadedCodeChange(e)}\n          multiple/>\n        <ReactCSSTransitionGroup\n          transitionName=\"line-transition\"\n          transitionEnterTimeout={300}\n          transitionLeaveTimeout={300}\n        >\n          { keys.map(_ =>\n            <Line\n              key={`line-${_}`}\n              onHide={this.onHide(_)}\n              onReRun={this.onReRun(_)}\n              {...commands[_]}\n            />) }\n        </ReactCSSTransitionGroup>\n      </div>\n    );\n  }\n}\n\nexport default Console;\n","export default {\n  3 : 'break',\n  8 : 'backspace / delete',\n  9 : 'tab',\n  12 : 'clear',\n  13 : 'enter',\n  16 : 'shift',\n  17 : 'ctrl',\n  18 : 'alt',\n  19 : 'pause/break',\n  20 : 'caps lock',\n  27 : 'escape',\n  32 : 'spacebar',\n  33 : 'page up',\n  34 : 'page down',\n  35 : 'end',\n  36 : 'home',\n  37 : 'left arrow',\n  38 : 'up arrow',\n  39 : 'right arrow',\n  40 : 'down arrow',\n  41 : 'select',\n  42 : 'print',\n  43 : 'execute',\n  44 : 'Print Screen',\n  45 : 'insert',\n  46 : 'delete',\n  48 : '0',\n  49 : '1',\n  50 : '2',\n  51 : '3',\n  52 : '4',\n  53 : '5',\n  54 : '6',\n  55 : '7',\n  56 : '8',\n  57 : '9',\n  58 : ':',\n  59 : 'semicolon (firefox), equals',\n  60 : '<',\n  61 : 'equals (firefox)',\n  63 : '',\n  64 : '@ (firefox)',\n  65 : 'a',\n  66 : 'b',\n  67 : 'c',\n  68 : 'd',\n  69 : 'e',\n  70 : 'f',\n  71 : 'g',\n  72 : 'h',\n  73 : 'i',\n  74 : 'j',\n  75 : 'k',\n  76 : 'l',\n  77 : 'm',\n  78 : 'n',\n  79 : 'o',\n  80 : 'p',\n  81 : 'q',\n  82 : 'r',\n  83 : 's',\n  84 : 't',\n  85 : 'u',\n  86 : 'v',\n  87 : 'w',\n  88 : 'x',\n  89 : 'y',\n  90 : 'z',\n  91 : 'Windows Key / Left  / Chromebook Search key',\n  92 : 'right window key',\n  93 : 'Windows Menu / Right ',\n  96 : 'numpad 0',\n  97 : 'numpad 1',\n  98 : 'numpad 2',\n  99 : 'numpad 3',\n  100 : 'numpad 4',\n  101 : 'numpad 5',\n  102 : 'numpad 6',\n  103 : 'numpad 7',\n  104 : 'numpad 8',\n  105 : 'numpad 9',\n  106 : 'multiply',\n  107 : 'add',\n  108 : 'numpad period (firefox)',\n  109 : 'subtract',\n  110 : 'decimal point',\n  111 : 'divide',\n  112 : 'f1',\n  113 : 'f2',\n  114 : 'f3',\n  115 : 'f4',\n  116 : 'f5',\n  117 : 'f6',\n  118 : 'f7',\n  119 : 'f8',\n  120 : 'f9',\n  121 : 'f10',\n  122 : 'f11',\n  123 : 'f12',\n  124 : 'f13',\n  125 : 'f14',\n  126 : 'f15',\n  127 : 'f16',\n  128 : 'f17',\n  129 : 'f18',\n  130 : 'f19',\n  131 : 'f20',\n  132 : 'f21',\n  133 : 'f22',\n  134 : 'f23',\n  135 : 'f24',\n  144 : 'num lock',\n  145 : 'scroll lock',\n  160 : '^',\n  161: '!',\n  163 : '#',\n  164: '$',\n  165: '',\n  166 : 'page backward',\n  167 : 'page forward',\n  169 : 'closing paren (AZERTY)',\n  170: '*',\n  171 : '~ + * key',\n  173 : 'minus (firefox), mute/unmute',\n  174 : 'decrease volume level',\n  175 : 'increase volume level',\n  176 : 'next',\n  177 : 'previous',\n  178 : 'stop',\n  179 : 'play/pause',\n  180 : 'e-mail',\n  181 : 'mute/unmute (firefox)',\n  182 : 'decrease volume level (firefox)',\n  183 : 'increase volume level (firefox)',\n  186 : 'semi-colon / ',\n  187 : 'equal sign',\n  188 : 'comma',\n  189 : 'dash',\n  190 : 'period',\n  191 : 'forward slash / ',\n  192 : 'grave accent /  / ',\n  193 : '?, / or ',\n  194 : 'numpad period (chrome)',\n  219 : 'open bracket',\n  220 : 'back slash',\n  221 : 'close bracket / ',\n  222 : 'single quote / ',\n  223 : '`',\n  224 : 'left or right  key (firefox)',\n  225 : 'altgr',\n  226 : '< /git >',\n  230 : 'GNOME Compose Key',\n  231 : '',\n  233 : 'XF86Forward',\n  234 : 'XF86Back',\n  255 : 'toggle touchpad'\n};\n","import React, { Component } from 'react';\n\n// TODO import Autocomplete from './Autocomplete';\nimport keycodes from '../lib/keycodes';\nimport AceEditor from 'react-ace';\n\nclass Input extends Component {\n  constructor(props) {\n    super(props);\n\n    // history is set in the componentDidMount\n    this.state = {\n      value: props.value || '',\n      multiline: false,\n      rows: 1,\n      historyCursor: props.history.length,\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onKeyPress = this.onKeyPress.bind(this);\n    this.runCell = this.runCell.bind(this);\n    this.upHistory = this.upHistory.bind(this);\n    this.downHistory = this.downHistory.bind(this);\n  }\n\n  onChange() {\n    const { value } = this.input;\n    const length = value.split('\\n').length;\n    this.setState({\n      multiline: length > 1,\n      rows: length < 20 ? length : 20,\n      value,\n    });\n  }\n\n  async onKeyPress(e) {\n    const code = keycodes[e.keyCode];\n    const { multiline } = this.state;\n    const { history } = this.props;\n    let { historyCursor } = this.state;\n\n    // FIXME in multiline, cursor up when we're at the top\n    // const cursor = getCursor(this.input);\n\n    if (e.ctrlKey && code === 'l') {\n      this.props.onClear();\n      return;\n    }\n\n    if (!multiline) {\n      // replaced by upHistory\n      if (code === 'up arrow') {\n        historyCursor--;\n        if (historyCursor < 0) {\n          this.setState({ historyCursor: 0 });\n          return;\n        }\n        this.setState({ historyCursor, value: history[historyCursor] });\n        // this.onChange();\n        e.preventDefault();\n        return;\n      }\n\n      // replaced by downHistory\n      if (code === 'down arrow') {\n        historyCursor++;\n        if (historyCursor >= history.length) {\n          this.setState({ historyCursor: history.length, value: '' });\n          return;\n        }\n        this.setState({ historyCursor, value: history[historyCursor] });\n        e.preventDefault();\n        return;\n      }\n    }\n\n    // replaced by runCell\n    const command = this.input.value;\n\n    if (code === 'enter') {\n      if (e.shiftKey) {\n        return;\n      }\n\n      if (!command) {\n        e.preventDefault();\n        return;\n      }\n\n      this.props.addHistory(command);\n      this.setState({ historyCursor: history.length + 1, value: '' });\n      e.preventDefault();\n      await this.props.onRun(command);\n      // Don't use `this.input.scrollIntoView();` as it messes with iframes\n      window.scrollTo(0, document.body.scrollHeight);\n      return;\n    }\n  }\n\n  onAceLoad(_editor) {\n    // _editor.setHighlightActiveLine(false);\n    _editor.renderer.setShowGutter(false);\n    _editor.setShowPrintMargin(false);\n    _editor.container.style.lineHeight = '20px';\n    _editor.setFontSize('0.85rem');\n    // _editor.renderer.updateFontSize();\n    _editor.setOptions({\n      minLines: 1,\n      maxLines: 20,\n      autoScrollEditorIntoView: true,\n      cursorStyle: 'wide'\n    });\n  }\n\n  async runCell(_editor) {\n    const command = _editor.getValue();\n    const { history } = this.props;\n    // const command = this.input.value;\n    if (!command) {\n      // e.preventDefault();\n      return;\n    }\n\n    this.props.addHistory(command);\n    this.setState({ historyCursor: history.length + 1, value: '' });\n    // e.preventDefault();\n    await this.props.onRun(command);\n    // Don't use `this.input.scrollIntoView();` as it messes with iframes\n    // window.scrollTo(0, document.body.scrollHeight);\n    window.scrollTo(0, document.body.clientHeight);\n    return;\n  }\n\n  upHistory(_editor) {\n    const { history } = this.props;\n    let { historyCursor } = this.state;\n    historyCursor--;\n    if (historyCursor < 0) {\n      this.setState({ historyCursor: 0 });\n      return;\n    }\n  this.setState({ historyCursor, value: history[historyCursor] }, () => this.setCursor(_editor));\n    // this.onChange();\n    // e.preventDefault();\n  }\n\n  downHistory(_editor) {\n    const { history } = this.props;\n    let { historyCursor } = this.state;\n    historyCursor++;\n    if (historyCursor >= history.length) {\n      this.setState({ historyCursor: history.length, value: '' });\n      return;\n    }\n    this.setState({ historyCursor, value: history[historyCursor] }, () => this.setCursor(_editor));\n    // e.preventDefault();\n  }\n\n  setCursor(_editor) {\n    const n = _editor.getSession().getValue().split('\\n').length;\n    _editor.gotoLine(n);\n    _editor.navigateLineEnd();\n  }\n\n  render() {\n    const { autoFocus } = this.props;\n    return (\n      <div className=\"Input\">\n        {/*<Autocomplete value={this.state.value} />*/}\n\n        {/*\n        <textarea\n          className=\"cli\"\n          rows={this.state.rows}\n          autoFocus={autoFocus}\n          ref={e => {\n            this.input = e;\n            this.props.inputRef(e);\n          }}\n          value={this.state.value}\n          onChange={this.onChange}\n          onKeyDown={this.onKeyPress}\n        />\n        */}\n\n        <AceEditor\n          mode=\"javascript\"\n          theme=\"chrome\"\n          name=\"input-editor\"\n          className=\"ace-cli\"\n          editorProps={{ $blockScrolling: Infinity }}\n          width=\"100%\"\n          min-height=\"20px\"\n          value={this.state.value}\n          commands={[\n            { name: 'run',\n              bindKey: { mac: 'Ctrl-Enter' },\n              exec: this.runCell },\n            { name: 'up',\n              bindKey: 'Alt-Up',\n              exec: this.upHistory },\n            { name: 'down',\n              bindKey: 'Alt-Down',\n              exec: this.downHistory },\n            { name: 'clear',\n              bindKey: 'Ctrl-l',\n              exec: this.props.onClear },\n          ]}\n          onLoad={this.onAceLoad}\n        />\n\n      </div>\n    );\n  }\n}\n\nexport default Input;\n","import { connect } from 'react-redux';\nimport Input from '../components/Input';\nimport { addHistory } from '../actions/Input';\n\nexport default connect(({ history }) => ({ history }), { addHistory })(Input);","export const ADD_HISTORY = 'ADD_HISTORY';\nexport function addHistory(value) { return { type: ADD_HISTORY, value }; };\n","/*global window EventSource fetch */\nimport { getContainer } from './run';\nimport { Chrome } from '../../../LibWrappers';\n\nconst version = process.env.REACT_APP_VERSION;\nconst API = process.env.REACT_APP_API || '';\n\n// Missing support\n// :load <url> - to inject new DOM\n\nconst welcome = () => ({\n  value: `Use <strong>:help</strong> to show jsconsole commands\nversion: ${version}`,\n  html: true,\n});\n\nconst help = () => ({\n  value: `:listen [id] - starts remote debugging session\n:theme dark|light\n:load &lt;script_url&gt; load also supports shortcuts, like \\`:load jquery\\`\n:libraries\n:clear\n:history\n:about\n:version\ncopy(<value>) and $_ for last value\n\n${about().value}`,\n  html: true,\n});\n\nconst about = () => ({\n  value:\n    'Built by <a href=\"https://twitter.com/rem\" target=\"_blank\">@rem</a>  <a href=\"https://github.com/remy/jsconsole\" target=\"_blank\">open source</a>  <a href=\"https://www.paypal.me/rem/9.99usd\" target=\"_blank\">donate</a>',\n  html: true,\n});\n\nconst libs = {\n  tensorflow: 'https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@0.12.0',\n  vega3: 'https://cdnjs.cloudflare.com/ajax/libs/vega/3.3.1/vega.js',\n  vega4: 'https://cdnjs.cloudflare.com/ajax/libs/vega/4.2.0/vega.js',\n  vega5: 'https://cdn.jsdelivr.net/npm/vega@5.0.0-rc2/build/vega.js',\n  'vega-lite': 'https://cdnjs.cloudflare.com/ajax/libs/vega-lite/2.6.0/vega-lite.js',\n  'vega-lite-3': 'https://cdn.jsdelivr.net/npm/vega-lite@3.0.0-rc13/build/vega-lite.js',\n  'vega-embed': 'https://cdn.jsdelivr.net/npm/vega-embed@3.29.1/build/vega-embed.js',\n  jquery: 'https://code.jquery.com/jquery.min.js',\n  underscore: 'https://cdn.jsdelivr.net/underscorejs/latest/underscore-min.js',\n  lodash: 'https://cdn.jsdelivr.net/lodash/latest/lodash.min.js',\n  moment: 'https://cdn.jsdelivr.net/momentjs/latest/moment.min.js',\n  datefns: 'https://cdn.jsdelivr.net/gh/date-fns/date-fns/dist/date_fns.min.js',\n  faceapi: 'https://bearzx.com/pgxz3/face-api.js',\n  ml5: 'https://bearzx.com/pgxz3/ml5.js',\n};\n\nconst _load = async ({ args: urls, console }) => {\n  // const document = getContainer().contentDocument;\n  urls.forEach(url => {\n    url = libs[url] || url;\n    const script = document.createElement('script');\n    script.src = url;\n    script.onload = () => console.log(`Loaded ${url}`);\n    script.onerror = () => console.warn(`Failed to load ${url}`);\n    document.body.appendChild(script);\n  });\n  return 'Loading script...';\n};\n\n// const load = async ({ args: url }) => {\n//   await remoteLoad({ args: url });\n// }\n\nconst load = async ({ args: urls, console }) => {\n  for (const url of urls) {\n    // console._log(`loading ${url}`);\n    await remoteLoad({ args: url });\n  }\n};\n\nconst remoteLoad = async ({ args: url }) => {\n    return new Promise((resolve, reject) => {\n      url = libs[url] || url;\n      console.log(`loading ${url}`);\n      fetch(url).then((res) => {\n          res.text().then((code) => {\n              eval.call(window, code);\n              console.log(`${url} <span class=\"sGreen\">loaded</span>`);\n              resolve();\n          });\n      });\n    })\n}\n\nconst yo = () => { console.log('yo'); }\n\nconst libraries = () => {\n  return {\n    value: Object.keys(libs)\n      .map(name => `<strong>${name}</strong>: ${libs[name]}`)\n      .join('\\n'),\n    html: true,\n  };\n};\n\nconst set = async ({ args: [key, value], app }) => {\n  switch (key) {\n    case 'theme':\n      if (['light', 'dark'].includes(value)) {\n        app.props.setTheme(value);\n      }\n      break;\n    case 'layout':\n      if (['top', 'bottom'].includes(value)) {\n        app.props.setLayout(value);\n      }\n      break;\n    default:\n  }\n};\n\nconst theme = async ({ args: [theme], app }) => {\n  if (['light', 'dark'].includes(theme)) {\n    app.props.setTheme(theme);\n    return;\n  }\n\n  return 'Try \":theme dark\" or \":theme light\"';\n};\n\nconst history = async ({ app, args: [n = null] }) => {\n  const history = app.context.store.getState().history;\n  if (n === null) {\n    return history.map((item, i) => `${i}: ${item.trim()}`).join('\\n');\n  }\n\n  // try to re-issue the historical command\n  const command = history.find((item, i) => i === n);\n  if (command) {\n    app.onRun(command);\n  }\n\n  return;\n};\n\nconst clear = ({ console }) => {\n  console.log('console clear');\n  console.clear();\n};\n\nconst edit = async ({ args: [name], console }) => {\n  console._edit_(name);\n};\n\nconst showCode = async () => {\n  window.show_code();\n};\n\nconst backup = async () => {\n  console.downloadCode();\n};\n\nconst upload = async () => {\n  console.uploadCode();\n};\n\nconst run = async ({ args: [name], console }) => {\n  console._run_(name);\n  console.log(`${name} <span class=\"sGreen\">evaled</span>`); // [Xiong] more indicators?\n};\n\nconst seqrun = async ({ args: names, console }) => {\n  for (const name of names) {\n    await run(name);\n  }\n};\n\nconst vis = async ({ args: id, console }) => {\n  console.vis(id);\n};\n\nconst canvas = async ({ args: id, console }) => {\n  console.canvas(id);\n};\n\nconst showTensor = async ({ args: [tensor, id], console }) => {\n  console.showTensor(window[tensor], window._$(`#canvas-${id}`));\n};\n\nconst vexport = async ({ args: _vname, console }) => {\n  console.log(`exporting variable ${_vname}`);\n  // check if the variable exists\n  if (window[_vname]) {\n    Chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n      let tab = tabs[0];\n      let msg = {\n        action: 'export-variable',\n        tabId: tab.id,\n        vname: _vname,\n        vvalue: window[_vname]\n      };\n      Chrome.runtime.sendMessage(msg, (response) => { });\n    });\n  } else {\n    console.warn(`variable ${_vname} doesn't exist`);\n  }\n};\n\nconst vimport = async ({ args: [_tabId, _vname], console }) => {\n  console.log(`importing variable ${_vname} from tab ${_tabId}`);\n  let msg = {\n    action: 'import-variable',\n    tabId: _tabId,\n    vname: _vname\n  };\n  Chrome.runtime.sendMessage(msg, (response) => {\n    console._log('import response bla');\n    console._log(response.vname);\n    console._log(response.vvalue);\n    window[response.vname] = response.vvalue;\n  });\n};\n\nconst listen = async ({ args: [id], console: internalConsole }) => {\n  // create new eventsocket\n  const res = await fetch(`${API}/remote/${id || ''}`);\n  id = await res.json();\n\n  return new Promise(resolve => {\n    const sse = new EventSource(`${API}/remote/${id}/log`);\n    sse.onopen = () => {\n      resolve(\n        `Connected to \"${id}\"\\n\\n<script src=\"${\n          window.location.origin\n        }/js/remote.js?${id}\"></script>`\n      );\n    };\n\n    sse.onmessage = event => {\n      console.log(event);\n      const data = JSON.parse(event.data);\n      if (data.response) {\n        if (typeof data.response === 'string') {\n          internalConsole.log(data.response);\n          return;\n        }\n\n        const res = data.response.map(_ => {\n          if (_.startsWith('Error:')) {\n            return new Error(_.split('Error: ', 2).pop());\n          }\n\n          if (_ === 'undefined') {\n            // yes, the string\n            return undefined;\n          }\n\n          return JSON.parse(_);\n        });\n        internalConsole.log(...res);\n      }\n    };\n\n    sse.onclose = function() {\n      internalConsole.log('Remote connection closed');\n    };\n  });\n};\n\nconst commands = {\n  libraries,\n  help,\n  about,\n  load,\n  listen,\n  theme,\n  clear,\n  history,\n  set,\n  welcome,\n  yo,\n  remoteLoad,\n  edit,\n  showCode,\n  backup,\n  upload,\n  run,\n  seqrun,\n  vis,\n  canvas,\n  showTensor,\n  vimport,\n  vexport,\n  version: () => version,\n};\n\nexport default commands;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Console from './Console';\nimport Input from '../containers/Input';\n\nimport run, { bindConsole, createContainer } from '../lib/run';\nimport internalCommands from '../lib/internal-commands';\n\nimport { Chrome } from '../../../LibWrappers';\n\nimport DataFrame from 'dataframe-js';\n\nimport { loadImg, loadAllImgs, loadVideo, loadText, loadImgTensor, loadXSV, cols2DF } from  '../lib/utils';\n\n// this is lame, but it's a list of key.code that do stuff in the input that we _want_.\nconst doStuffKeys = /^(Digit|Key|Num|Period|Semi|Comma|Slash|IntlBackslash|Backspace|Delete|Enter)/;\n\nclass ConsoleApp extends Component {\n  constructor(props) {\n    super(props);\n\n    // console.log(props);\n    window.port = Chrome.runtime.connect({ name: 'devtool' });\n\n    window.port.onMessage.addListener((msg) => {\n      console._log(msg);\n      if (msg.action === 'img-drag-start') {\n        this.props.dragStart();\n      } else if (msg.action === 'img-drag-end') {\n        this.props.dragEnd();\n      } else if (msg.action === 'inspect-image') {\n        Chrome.devtools.inspectedWindow.eval(\n          `searchImg()`,\n          (res, e) => {\n            console._log(e);\n            console._log(`searchImg info ` + res);\n            loadImg(msg.srcUrl, res);\n        });\n      } else if (msg.action === 'inspect-all-images') {\n        Chrome.devtools.inspectedWindow.eval(\n          `searchAllImgs()`,\n          (res, e) => {\n            loadAllImgs(res);\n          }\n        );\n      } else if (msg.action === 'inspect-all-reviews') {\n        Chrome.devtools.inspectedWindow.eval(\n          `searchAllReviews()`,\n          (res, e) => {\n            console.log(`reviews loaded as <span class=\"sGreen\">_reviews_</span>`);\n            window._reviews_ = res;\n          }\n        );\n      } else if (msg.action === 'inspect-all-tweets') {\n        Chrome.devtools.inspectedWindow.eval(\n          `searchAllTweets()`,\n          (res, e) => {\n            console.log(`tweets loaded as <span class=\"sGreen\">_tweets_</span>`);\n            window._tweets_ = res;\n          }\n        );\n      } else if (msg.action === 'inspect-all-pets') {\n        Chrome.devtools.inspectedWindow.eval(\n          `searchAllPets()`,\n          (res, e) => {\n            loadAllImgs(res);\n          }\n        );\n      } else if (msg.action === 'inspect-video') {\n        loadVideo(msg.srcUrl);\n      } else if (msg.action === 'inspect-audio' ) {\n        // TODO\n      } else if (msg.action === 'inspect-xsv') {\n        // console._log(msg.linkUrl);\n        console.log(`${msg.linkUrl} loaded as <span class=\"sGreen\">window._df_</span>`);\n        loadXSV(msg.linkUrl);\n      } else if (msg.action === 'detect-table') {\n        Chrome.devtools.inspectedWindow.eval(\n          `searchTable()`,\n          (res, isException) => {\n            if (isException) {\n              console._log(isException);\n            }\n\n            if (res.found) {\n              console.log(`Table loaded as <span class=\"sGreen\">window._df_</span>`);\n              cols2DF(res.columns, res.ePath);\n            } else {\n              loadText(msg.selectionText);\n            }\n        });\n      } else if (msg.action === 'direction') {\n        console.log(msg);\n        const CONTROLS = ['up', 'down', 'left', 'right'];\n        const CONTROL_CODES = [38, 40, 37, 39];\n        let code = CONTROL_CODES[CONTROLS.indexOf(msg.direction)];\n        Chrome.devtools.inspectedWindow.eval(`console.log(${code})`);\n        Chrome.devtools.inspectedWindow.eval(`google.pacman.keyPressed(${code})`);\n      }\n    });\n\n    this.onRun = this.onRun.bind(this);\n    this.triggerFocus = this.triggerFocus.bind(this);\n  }\n\n  async onRun(command, _linei) {\n    const console = this.console;\n    // window.console._log(console);\n\n    // console._log(typeof _linei);\n\n    if (command[0] !== ':') {\n      console.push({\n        type: 'command',\n        command,\n        value: command,\n        evalable: false,\n        linei: _linei ? _linei : null\n      });\n\n      const res = await run(command);\n\n      if (res.value !== undefined) {\n        console.push({\n          command,\n          type: 'response',\n          linei: _linei ? (_linei + 1) : null,\n          ...res,\n        });\n      }\n      return;\n    }\n\n    let [cmd, ...args] = command.slice(1).split(' ');\n\n    if (/^\\d+$/.test(cmd)) {\n      args = [parseInt(cmd, 10)];\n      cmd = 'history';\n    }\n\n    if (!internalCommands[cmd]) {\n      console.push({\n        command,\n        error: true,\n        value: new Error(`No such :command \"${command}\"`),\n        type: 'response',\n      });\n      return;\n    }\n\n    let res = await internalCommands[cmd]({ args, console, app: this });\n\n    if (typeof res === 'string') {\n      res = { value: res };\n    }\n\n    if (res !== undefined) {\n      console.push({\n        command,\n        type: 'log',\n        ...res,\n      });\n    }\n\n    return;\n  }\n\n  componentDidMount() {\n    createContainer();\n    bindConsole(this.console);\n    const query = decodeURIComponent(window.location.search.substr(1));\n    if (query) {\n      this.onRun(query);\n    }\n\n    // [TODO] what if we change the host page?\n    Chrome.tabs.getSelected(null, (tab) => {\n      window.hostUrlBase = tab.url.substr(0, tab.url.lastIndexOf('/'));\n    });\n  }\n\n  triggerFocus(e) {\n    if (e.target.nodeName === 'INPUT') return;\n    if (e.metaKey || e.ctrlKey || e.altKey) return;\n    if (e.code && !doStuffKeys.test(e.code)) return;\n\n    // this.input.focus();\n  }\n\n  render() {\n    const { commands = [], theme, layout } = this.props;\n\n    const className = classnames(['ConsoleApp', `theme-${theme}`, layout]);\n\n    return (\n      <div\n        tabIndex=\"-1\"\n        onKeyDown={this.triggerFocus}\n        ref={e => (this.app = e)}\n        className={className}\n      >\n        <Console\n          ref={e => (this.console = e)}\n          commands={commands}\n          reverse={layout === 'top'}\n          onRun={this.onRun}\n        />\n        <Input\n          inputRef={e => (this.input = e)}\n          onRun={this.onRun}\n          autoFocus={window.top === window}\n          onClear={() => {\n            this.console.clear();\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nConsoleApp.contextTypes = { store: PropTypes.object };\n\nexport default ConsoleApp;\n","import { connect } from 'react-redux';\nimport ConsoleApp from '../components/ConsoleApp';\nimport { setTheme, setLayout } from '../actions/Settings';\nimport { dragStart, dragEnd } from '../actions/ImagePanel';\n\nexport default connect(({ settings }) => ({\n  theme: settings.theme,\n  layout: settings.layout,\n}), { setTheme, setLayout, dragStart, dragEnd })(ConsoleApp);","export const SET_THEME = 'SET_THEME';\nexport const SET_LAYOUT = 'SET_LAYOUT';\nexport function setTheme(value) { return { type: SET_THEME, value }; };\nexport function setLayout(value) { return { type: SET_LAYOUT, value }; };","export function dragStart() {\n  return { type: 'DRAG_START' };\n};\n\nexport function dragEnd() {\n  return { type: 'DRAG_END' };\n};","import React, { Component } from 'react';\nimport Tabs from 'muicss/lib/react/tabs';\nimport Tab from 'muicss/lib/react/tab';\nimport Input from 'muicss/lib/react/input';\nimport brace from 'brace';\nimport AceEditor from 'react-ace';\nimport 'brace/mode/javascript';\nimport 'brace/theme/chrome';\nimport './App.css';\nimport { Chrome } from './LibWrappers';\nimport ConsoleApp from './jsconsole/core/containers/ConsoleApp';\nimport DataFrame from 'dataframe-js';\n\nwindow.styleTransferModel = 'https://www.bearzx.com/pgxz3/fast-style-transfer/la_muse';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    window._$ = document.querySelector.bind(document);\n\n    window.DataFrame = DataFrame;\n\n    window.resetAppState = () => {\n      // a function to test the forceUpdate behavior\n      this.state = {};\n      console.log(this.state);\n      console.log(this);\n      this.forceUpdate();\n    }\n\n    window.changeAppState = (o) => {\n      this.setState(o);\n    };\n\n    window.printState = (o) => {\n      console._log(this.state);\n    };\n\n    window.newPlot = () => {\n      const n = this.state.plotIds.length;\n      this.setState({\n        tabId: 1,\n        plotIds: this.state.plotIds.concat([n])\n      });\n    };\n\n    window.rmPlot = (i) => {\n      this.setState({\n        plotIds: this.state.plotIds.filter((n) => n !== i)\n      });\n    };\n\n    window.onbeforeunload = (e) => {\n      let msg = {\n        action: 'console-closed',\n        tabId: this.state.tabId\n      };\n      Chrome.runtime.sendMessage(msg, (response) => { });\n    }\n\n    this.state = {\n      fname: '',\n      code: '',\n      plotCount: 0,\n      plotIds: [],\n      tabId: 0\n    };\n\n    Chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n      let tab = tabs[0];\n      this.state.tabId = tab.id;\n    });\n\n    this.handleTabChange = this.handleTabChange.bind(this);\n    this.handleFnameChange = this.handleFnameChange.bind(this);\n    this.handleCodeChange = this.handleCodeChange.bind(this);\n  }\n\n  handleTabChange = (v) => {\n    // console._log(v);\n    this.setState({ tabId: v });\n  };\n\n  handleFnameChange = (e) => {\n    // console._log(e.target.value);\n    e.stopPropagation();\n    this.setState({ fname: e.target.value });\n  }\n\n  handleCodeChange = (v) => {\n    this.setState({ code: v });\n  }\n\n  onLoad = (_editor) => {\n    // console.log('editor load');\n    _editor.setOptions({\n      minLines: 1,\n      maxLines: Infinity,\n      autoScrollEditorIntoView: true,\n      cursorStyle: 'wide'\n    });\n  }\n\n  saveCode = (_editor) => {\n    let msg = {\n      action: 'save-script',\n      name: this.state.fname,\n      code: _editor.getValue()\n    };\n    Chrome.runtime.sendMessage(msg, (response) => {\n        console.log(response);\n    });\n  };\n\n  render() {\n    return (\n      <Tabs onChange={this.handleTabChange} selectedIndex={this.state.tabId} justified={true}>\n        <Tab value=\"console\" label=\"Console\" onActive={this.onActive}>\n          <ConsoleApp />\n        </Tab>\n        <Tab value=\"editor\" label=\"Editor\">\n          <Input\n            value={this.state.fname}\n            className=\"file-name\"\n            label=\"File name\"\n            floatingLabel={true}\n            onChange={this.handleFnameChange}\n          />\n          <AceEditor\n            mode=\"javascript\"\n            theme=\"chrome\"\n            name=\"code-editor\"\n            // className=\"code-editor\"\n            value={this.state.code}\n            editorProps={{ $blockScrolling: Infinity }}\n            width=\"100%\"\n            height=\"100%\"\n            onLoad={this.onLoad}\n            onChange={this.handleCodeChange}\n            commands={[{\n              name: 'save',\n              bindKey: { win: 'Ctrl-S', mac: 'Command-S' },\n              exec: this.saveCode\n            }]}\n          />\n        </Tab>\n      </Tabs>\n    );\n  }\n}\n\nexport default App;","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","const ADD_HISTORY = 'ADD_HISTORY';\n\nconst defaultState = [];\n\nconst reducer = (state = defaultState, action) => {\n  if (action.type === ADD_HISTORY) {\n    if (state.slice(-1).pop() !== action.value) {\n      return [...state, action.value];\n    }\n  }\n\n  return state;\n};\n\nexport default reducer;\n","import { SET_THEME, SET_LAYOUT } from '../actions/Settings';\n\nconst defaultState = {\n  theme: 'light',\n  layout: 'bottom',\n  remote: false,\n};\n\nconst reducer = (state = defaultState, action) => {\n  if (action.type === SET_THEME) {\n    return { ...state, theme: action.value };\n  }\n\n  if (action.type === SET_LAYOUT) {\n    return { ...state, layout: action.value };\n  }\n\n  return state;\n};\n\nexport default reducer;\n","const defaultState = {\n  isDragStart: false\n};\n\nconst reducer = (state = defaultState, action) => {\n  if (action.type === 'DRAG_START') {\n    return {...state, isDragStart: true};\n  }\n\n  if (action.type === 'DRAG_END') {\n    return {...state, isDragStart: false};\n  }\n\n  return state;\n};\n\nexport default reducer;","import { combineReducers } from 'redux';\nimport history from './history';\nimport settings from './settings';\nimport drags from './drags';\n\nexport default combineReducers({\n  history,\n  settings,\n  drags,\n});\n","import reducers from './reducers';\nimport { createStore, compose, applyMiddleware } from 'redux';\nimport { SET_THEME, SET_LAYOUT } from './actions/Settings';\nimport { ADD_HISTORY } from './actions/Input';\n\nconst save = (key, value, store = 'session') => {\n  try {\n    window[`${store}Storage`].setItem(\n      `jsconsole.${key}`,\n      JSON.stringify(value)\n    );\n  } catch (e) {}\n};\n\nconst middleware = [\n  applyMiddleware(store => next => action => {\n    const nextAction = next(action);\n    const state = store.getState(); // new state after action was applied\n\n    if (action.type === SET_THEME || action.type === SET_LAYOUT) {\n      save('settings', state.settings, 'local');\n    }\n\n    if (action.type === ADD_HISTORY) {\n      save('history', state.history);\n    }\n\n    return nextAction;\n  }),\n];\n\nif (window.__REDUX_DEVTOOLS_EXTENSION__) {\n  middleware.push(window.__REDUX_DEVTOOLS_EXTENSION__());\n}\n\nconst finalCreateStore = compose(...middleware)(createStore);\n\nconst defaults = {};\ntry {\n  defaults.settings = JSON.parse(\n    localStorage.getItem('jsconsole.settings') || '{}'\n  );\n  defaults.history = JSON.parse(\n    sessionStorage.getItem('jsconsole.history') || '[]'\n  );\n\n  defaults.isDragStart = false;\n} catch (e) {\n  console.log(e);\n}\n\nconst store = finalCreateStore(reducers, defaults);\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\nimport store from './jsconsole/core/store';\nimport { Provider } from 'react-redux';\nimport './jsconsole/core/jsconsole.css';\n\n// ReactDOM.render(<App />, document.getElementById('root'));\n\nReactDOM.render(React.createElement(Provider, { store }, <App />), document.getElementById('root'));\n\n// registerServiceWorker();\n"],"sourceRoot":""}